@model Movys.Web.ViewModels.Profiles.ProfileInfoViewModel

<div class="hero user-hero">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="hero-ct">
                    <h1>@User.Identity.Name’s profile</h1>
                    <ul class="breadcumb">
                        <li class="active"><a href="/">Home</a></li>
                        <li> <span class="ion-ios-arrow-right"></span>Profile</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="page-single">
    <div class="container">
        <div class="row ipad-width">
            <div class="col-md-3 col-sm-12 col-xs-12">
                <div class="user-information">
                    <div class="user-img">
                        @await Html.PartialAsync("_ChangeAvatarPartial", Model.AvatarViewModel)
                    </div>
                    <div class="user-fav">
                        <p>Account Details</p>
                        <ul>
                            <li class="active"><a>Profile</a></li>
                            <li><a asp-controller="Profiles" asp-action="UserFavouriteList">Favorite movies</a></li>
                            <li><a asp-controller="Profiles" asp-action="UserRating">Rated movies</a></li>
                        </ul>
                    </div>
                    <div class="user-fav">
                        <p>Others</p>
                        <ul>
                            <li><a asp-controller="Profiles" asp-action="UserProfile">Change password</a></li>
                            <li><a asp-controller="Users" asp-action="Logout">Log out</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-9 col-sm-12 col-xs-12">
                <div class="form-style-1 user-pro" action="#">
                    <form method="post" asp-action="ChangeAdditionalInfo" class="user">
                        <h4>01. Profile details</h4>
                        <div class="row">
                            <div class="col-md-6 form-it">
                                <label>First Name</label>
                                <input asp-for="AdditionInfoInput.FirstName" type="text" placeholder="@(Model.AdditionInfoViewModel.FirstName??"First Name")">
                            </div>
                            <div class="col-md-6 form-it">
                                <label>Last Name</label>
                                <input asp-for="AdditionInfoInput.LastName" type="text" placeholder="@(Model.AdditionInfoViewModel.LastName??"Last Name")">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 form-it">
                                <label>Country</label>
                                <input asp-for="AdditionInfoInput.Country" type="text" placeholder="@(Model.AdditionInfoViewModel.Country??"Country")">
                            </div>
                            <div class="col-md-6 form-it">
                                <label>City</label>
                                <input asp-for="AdditionInfoInput.City" type="text" placeholder="@(Model.AdditionInfoViewModel.City??"City")">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <input class="submit" type="submit" value="save">
                            </div>
                        </div>
                    </form>
                    <form method="post" asp-action="ChangePassword" class="password">
                        <h4>02. Change password</h4>
                        <div class="row">
                            <div class="col-md-6 form-it">
                                <label>Old Password</label>
                                <input asp-for="ChangePasswordInput.OldPassword" type="password" placeholder="**********" required="required">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 form-it">
                                <label>New Password</label>
                                <input asp-for="ChangePasswordInput.NewPassword" type="password" placeholder="***************" required="required">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 form-it">
                                <label>Confirm New Password</label>
                                <input asp-for="ChangePasswordInput.ConfirmNewPassword" type="password" placeholder="***************" required="required">
                            </div>
                        </div>

                        <span asp-validation-for="ChangePasswordInput.OldPassword"></span>
                        <span asp-validation-for="ChangePasswordInput.NewPassword"></span>
                        <span asp-validation-for="ChangePasswordInput.ConfirmNewPassword"></span>

                        <div class="row">
                            <div class="col-md-2">
                                <input class="submit" type="submit" value="change">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function Upload() {
         var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
            }
        }
        xhr.open("POST", "/Profiles/Upload?file=@Model.AvatarViewModel.Avatar", true);
        xhr.send();
    }
</script>